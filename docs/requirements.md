# 投資学習アプリ 要求・要件定義書

## ドキュメント情報

- **プロジェクト名**: 投資学習アプリ
- **作成日**: 2026 年 1 月 1 日
- **バージョン**: 1.0
- **ステータス**: 初期リリース向け

---

## 1. プロジェクト概要

### 1.1 目的

投資に関する知識を毎日習得するための個人利用スマートフォンアプリケーションを開発する。
ユーザーが投資知識を段階的に習得し、自立した投資判断ができるようになることを支援する。

### 1.2 対象ユーザー

- **プライマリユーザー**: 開発者本人(個人利用)
- **ユーザー特性**: 投資初学者、これから投資知識を広げたい方

### 1.3 提供価値

- 毎日継続的に投資情報に触れる習慣形成
- AI 要約による効率的な情報収集
- 投資用語の体系的な学習

### 1.4 スコープ

**初期リリース(v1.0)で含む機能**:

- 世界・日本の投資・企業・金融ニュース要約配信
- 投資・金融用語の日次配信(3 用語/日)

**初期リリースで含まない機能**:

- ユーザー認証・ログイン機能
- 複数デバイス同期
- 過去ニュース閲覧機能
- ユーザー設定・カスタマイズ機能
- プッシュ通知

---

## 2. 機能要求

### 2.1 ニュース配信機能

#### 2.1.1 概要

世界と日本の投資・経済ニュースを毎日自動取得し、AI で要約・日本語化して配信する。

#### 2.1.2 機能要件

| 要件 ID | 要件名           | 詳細                                              | 優先度 |
| ------- | ---------------- | ------------------------------------------------- | ------ |
| F-001   | ニュース自動取得 | 毎日 8:00(JST)に自動でニュース記事を取得        | 必須   |
| F-002   | ニュースカテゴリ | 「世界のニュース」「日本のニュース」の 2 カテゴリ | 必須   |
| F-003   | AI 要約処理      | 複数記事を統合し約 2000 文字に要約                | 必須   |
| F-004   | 日本語化         | 英語記事は日本語に翻訳して要約                    | 必須   |
| F-005   | ニュース表示     | アプリ起動時に当日のニュースを表示                | 必須   |
| F-006   | データ保持期間   | 最大 30 日分のニュース履歴を保持                  | 必須   |

#### 2.1.3 ビジネスルール

- ニュースは 1 日 1 回更新(毎朝 8:00)
- 同じニュース内容は 24 時間配信される
- ユーザーがアプリを開くタイミングに関わらず、その日のニュースが表示される

#### 2.1.4 データソース

- **世界のニュース**: NewsAPI(business カテゴリ)
- **日本のニュース**: Google News RSS(投資・経済キーワード)

### 2.2 投資用語配信機能

#### 2.2.1 概要

投資に関する用語とその解説を毎日 3 つランダムに生成し配信する。

#### 2.2.2 機能要件

| 要件 ID | 要件名   | 詳細                                                | 優先度 |
| ------- | -------- | --------------------------------------------------- | ------ |
| F-101   | 用語生成 | AI が投資用語を 1 日 3 つ生成                       | 必須   |
| F-102   | 解説生成 | 各用語について分かりやすい解説を生成(約 500 文字) | 必須   |
| F-103   | 重複回避 | 過去配信済みの用語は一定期間再配信しない            | 必須   |
| F-104   | 用語表示 | アプリ起動時に当日の 3 用語を表示                   | 必須   |
| F-105   | 履歴保存 | 配信済み用語の履歴をデータベースに保存              | 必須   |

#### 2.2.3 ビジネスルール

- 用語は 1 日 1 回更新(毎朝 8:00、ニュースと同時)
- 過去 30 日以内に配信した用語は再配信しない
- 用語の難易度は混在(初級〜上級)

### 2.3 UI/UX 要件

#### 2.3.1 画面構成

| 画面 ID | 画面名                     | 説明                            |
| ------- | -------------------------- | ------------------------------- |
| UI-001  | ホーム画面(ニュースタブ) | 世界・日本のニュース要約を表示  |
| UI-002  | 用語タブ                   | 当日の投資用語 3 つと解説を表示 |

#### 2.3.2 UI 要件

| 要件 ID | 要件名             | 詳細                                       | 優先度 |
| ------- | ------------------ | ------------------------------------------ | ------ |
| UI-101  | タブナビゲーション | 「ニュース」「用語」の 2 タブで切り替え    | 必須   |
| UI-102  | レスポンシブ表示   | iOS 端末のサイズに適切に対応               | 必須   |
| UI-103  | 読みやすさ         | 適切なフォントサイズと行間で可読性を確保   | 必須   |
| UI-104  | オフライン表示     | 一度読み込んだ内容はオフラインでも閲覧可能 | 推奨   |

---

## 3. 非機能要求

### 3.1 パフォーマンス要件

| 要件 ID | 項目             | 目標値                           |
| ------- | ---------------- | -------------------------------- |
| NF-001  | アプリ起動時間   | 3 秒以内                         |
| NF-002  | ニュース表示速度 | 1 秒以内(キャッシュ済みデータ) |
| NF-003  | バッチ処理時間   | 5 分以内(日次更新処理)         |

### 3.2 可用性要件

| 要件 ID | 項目             | 目標値  |
| ------- | ---------------- | ------- |
| NF-101  | アプリ稼働率     | 95%以上 |
| NF-102  | バッチ処理成功率 | 98%以上 |

### 3.3 セキュリティ要件

| 要件 ID | 項目         | 詳細                                             |
| ------- | ------------ | ------------------------------------------------ |
| NF-201  | API キー管理 | 環境変数で管理、コードにハードコーディングしない |
| NF-202  | HTTPS 通信   | 全ての外部 API 通信は HTTPS を使用               |
| NF-203  | データ暗号化 | 通信データは暗号化して送受信                     |

### 3.4 保守性要件

| 要件 ID | 項目           | 詳細                                |
| ------- | -------------- | ----------------------------------- |
| NF-301  | コード可読性   | ESLint ルールに準拠、適切なコメント |
| NF-302  | ログ出力       | エラー発生時は詳細ログを記録        |
| NF-303  | バージョン管理 | Git でソースコード管理              |

### 3.5 コスト要件

| 要件 ID | 項目           | 目標値                               |
| ------- | -------------- | ------------------------------------ |
| NF-401  | 月間運用コスト | 1,000 円以下                         |
| NF-402  | 無料枠活用     | 可能な限り各サービスの無料枠内で運用 |

---

## 4. システム制約

### 4.1 技術制約

- **フロントエンド**: React Native(Expo 使用)
- **バックエンド**: Vercel Serverless Functions
- **データベース**: Firebase Firestore
- **定期実行**: Vercel Cron Jobs
- **AI 処理**: Claude API(Anthropic)

### 4.2 プラットフォーム制約

- **対応 OS**: iOS 優先(将来的に Android 対応検討)
- **最小対応バージョン**: iOS 14 以上

### 4.3 外部サービス依存

- NewsAPI(無料枠: 100 リクエスト/日)
- Google News RSS(無料、制限なし)
- Claude API(従量課金)
- Firebase(無料枠内で運用)
- Vercel(無料プラン)

### 4.4 データ制約

- ニュース履歴: 最大 30 日分
- 用語履歴: 全履歴保持(重複チェック用)
- Firestore ドキュメントサイズ: 1MB 以下

---

## 5. ユーザーストーリー

### 5.1 ニュース閲覧

```
As a ユーザー
I want 毎日最新の投資ニュース要約を読みたい
So that 効率的に世界と日本の経済動向を把握できる
```

**受け入れ基準**:

- [ ] 毎朝 8 時にニュースが更新されている
- [ ] 世界と日本のニュースが分かれて表示される
- [ ] 各ニュースは約 2000 文字で読みやすくまとまっている
- [ ] 全て日本語で表示される

### 5.2 投資用語学習

```
As a ユーザー
I want 毎日新しい投資用語を3つ学びたい
So that 投資知識を段階的に増やせる
```

**受け入れ基準**:

- [ ] 毎日 3 つの新しい用語が表示される
- [ ] 各用語には分かりやすい解説がついている
- [ ] 最近学んだ用語は再度表示されない(30 日間)

### 5.3 日常的な学習習慣

```
As a ユーザー
I want アプリを開くだけでその日の情報が見られる
So that 毎日継続的に学習できる
```

**受け入れ基準**:

- [ ] アプリ起動後すぐに情報が表示される
- [ ] タブ切り替えで情報を見やすく整理されている
- [ ] 1 日のどのタイミングで開いても同じ内容が表示される

---

## 6. 用語定義

| 用語                 | 定義                                                             |
| -------------------- | ---------------------------------------------------------------- |
| ニュース要約         | 複数のニュース記事を AI が統合・要約したテキスト(約 2000 文字) |
| 投資用語             | 株式、債券、不動産、経済指標等に関する専門用語                   |
| 日次バッチ           | 毎日 8:00(JST)に実行される自動処理                             |
| Firestore            | Google が提供する NoSQL クラウドデータベース                     |
| Serverless Functions | サーバー管理不要で実行できる関数型処理                           |
| Cron Jobs            | 定期的にスケジュール実行される処理                               |

---

## 7. リスクと前提条件

### 7.1 リスク

| リスク ID | リスク内容                  | 影響度 | 対策                                           |
| --------- | --------------------------- | ------ | ---------------------------------------------- |
| R-001     | NewsAPI 無料枠の制限超過    | 中     | 記事取得数を調整、代替 API の検討              |
| R-002     | Claude API コストの想定超過 | 中     | トークン使用量の監視、Haiku モデルへの切替検討 |
| R-003     | Firebase 無料枠超過         | 低     | データ保持期間の見直し                         |
| R-004     | 外部 API 障害               | 中     | リトライ処理の実装、エラーハンドリング         |

### 7.2 前提条件

- 開発者が React/TypeScript の基本知識を持っている、または学習中
- iOS 開発環境が利用可能(Mac + Xcode)
- 各種外部サービスのアカウント取得が可能
- インターネット接続が常に利用可能

### 7.3 依存関係

- NewsAPI の利用規約遵守
- Claude API の利用規約遵守
- Apple App Store の審査基準準拠(将来的な公開時)

---

## 8. 成功基準

### 8.1 技術的成功基準

- [ ] アプリが正常に起動し、ニュースと用語が表示される
- [ ] 日次バッチが 98%以上の確率で成功する
- [ ] 月間運用コストが 1,000 円以下に収まる
- [ ] アプリのクラッシュ率が 1%以下

### 8.2 ビジネス的成功基準

- [ ] 開発者が毎日アプリを開いて情報を読む習慣がつく
- [ ] 30 日間で 90 個以上の投資用語を学習できる
- [ ] 投資知識が向上し、自立した投資判断の助けになる

---

## 9. 今後の拡張性

### 9.1 将来的に検討する機能

- ユーザー認証とログイン機能
- 複数デバイスでのデータ同期
- 過去ニュース・用語の検索・閲覧機能
- お気に入り・ブックマーク機能
- プッシュ通知(朝のリマインド)
- 学習進捗の可視化
- カスタム設定(配信時刻、ニュースカテゴリ等)
- Android 対応

### 9.2 段階的リリース計画

- **v1.0**: 基本機能(ニュース・用語配信)
- **v1.1**: UI ブラッシュアップ、エラーハンドリング強化
- **v2.0**: 過去履歴閲覧、検索機能
- **v3.0**: ユーザー認証、複数デバイス同期

---

## 10. 承認

| 役割               | 氏名        | 承認日     | 署名 |
| ------------------ | ----------- | ---------- | ---- |
| プロダクトオーナー | KoheiMatsuo | 2026-01-01 |      |
| 開発者             | KoheiMatsuo | 2026-01-01 |      |

---

## 改訂履歴

| バージョン | 日付       | 改訂内容 | 改訂者      |
| ---------- | ---------- | -------- | ----------- |
| 1.0        | 2026-01-01 | 初版作成 | KoheiMatsuo |
