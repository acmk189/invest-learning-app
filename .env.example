# ==============================================================================
# 投資学習アプリ - 環境変数設定ファイル
# ==============================================================================
#
# このファイルは環境変数のテンプレートです。
# 実際の値を設定する場合は、このファイルをコピーして `.env.local` として保存してください:
#   cp .env.example .env.local
#
# 重要: .env.local はGitにコミットされません（.gitignoreで除外済み）
#
# Vercelデプロイ時は、Vercel Dashboardで環境変数を設定してください:
#   https://vercel.com/docs/projects/environment-variables
#
# ==============================================================================

# ------------------------------------------------------------------------------
# Firebase Admin SDK
# ------------------------------------------------------------------------------
# Firebase Consoleでプロジェクトを作成し、サービスアカウントキーをダウンロードしてください。
#
# 設定手順:
# 1. Firebase Console (https://console.firebase.google.com/) にアクセス
# 2. プロジェクト設定 > サービスアカウント > 新しい秘密鍵を生成
# 3. ダウンロードしたJSONファイルから各値をコピー
#
# 参考: https://firebase.google.com/docs/admin/setup

# Firebase プロジェクトID（JSONのproject_idフィールド）
FIREBASE_PROJECT_ID=your-firebase-project-id

# Firebase 秘密鍵（JSONのprivate_keyフィールド）
# 注意: 改行を含む場合は \n としてエスケープし、全体をダブルクォートで囲んでください
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_CONTENT\n-----END PRIVATE KEY-----\n"

# Firebase サービスアカウントメール（JSONのclient_emailフィールド）
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com

# ------------------------------------------------------------------------------
# NewsAPI
# ------------------------------------------------------------------------------
# NewsAPIから世界のニュースを取得するために使用します。
#
# 設定手順:
# 1. NewsAPI (https://newsapi.org/) でアカウントを作成
# 2. 無料プランのAPIキーを取得
#
# 注意:
# - 無料プランは100リクエスト/日の制限があります
# - 本アプリは1日1回のバッチ処理のみ使用するため、無料枠内で運用可能です
#
# 参考: https://newsapi.org/docs/get-started

NEWS_API_KEY=your-newsapi-key

# ------------------------------------------------------------------------------
# Claude API (Anthropic)
# ------------------------------------------------------------------------------
# ニュース要約と投資用語生成に使用するAI APIです。
#
# 設定手順:
# 1. Anthropic Console (https://console.anthropic.com/) にアクセス
# 2. APIキーを生成
#
# 注意:
# - 本アプリはHaikuモデルを使用してコストを最適化しています
# - 月間コスト目安: 数百円程度（使用量による）
#
# 参考: https://docs.anthropic.com/en/api/getting-started

CLAUDE_API_KEY=sk-ant-api03-your-api-key

# ------------------------------------------------------------------------------
# Vercel Cron Secret
# ------------------------------------------------------------------------------
# Vercel Cron Jobsからのリクエストを認証するためのシークレットです。
#
# 生成方法（ターミナルで実行）:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# または、以下のコマンドでも生成可能:
#   openssl rand -hex 32
#
# 参考: https://vercel.com/docs/cron-jobs#securing-cron-jobs

CRON_SECRET=your-64-character-hex-secret

# ------------------------------------------------------------------------------
# Supabase
# ------------------------------------------------------------------------------
# Supabaseはオープンソースのバックエンドサービスで、PostgreSQLデータベースを提供します。
#
# 2025年以降、APIキーの形式が変更されました:
# - anon key → publishable key (sb_publishable_...)
# - service_role key → secret key (sb_secret_...)
#
# 設定手順:
# 1. Supabase (https://supabase.com/) でアカウントを作成
# 2. 新しいプロジェクトを作成
# 3. プロジェクト設定 > API でURLとキーを取得
#
# 参考: https://supabase.com/docs/guides/api
# 参考: https://github.com/orgs/supabase/discussions/29260

# Supabase プロジェクトURL（例: https://your-project.supabase.co）
SUPABASE_URL=https://your-project.supabase.co

# Supabase publishable key（クライアントサイド用、旧anon key）
SUPABASE_PUBLISHABLE_KEY=sb_publishable_xxxxxxxx

# Supabase secret key（サーバーサイド用、旧service_role key）
# 注意: この鍵は絶対にクライアントサイドで使用しないでください
SUPABASE_SECRET_KEY=sb_secret_xxxxxxxx

# ------------------------------------------------------------------------------
# Supabase (ローカル開発用)
# ------------------------------------------------------------------------------
# ローカル開発環境ではDockerでSupabaseを起動します。
# `supabase start`コマンドで起動時に自動生成される値を使用してください。
#
# 設定手順:
# 1. Supabase CLIをインストール: brew install supabase/tap/supabase
# 2. プロジェクトで初期化: supabase init
# 3. ローカル起動: supabase start
# 4. 表示される認証情報をコピー（Publishable / Secret）
#
# 参考: https://supabase.com/docs/guides/local-development

# ローカルSupabase URL（通常は http://127.0.0.1:54321）
# LOCAL_SUPABASE_URL=http://127.0.0.1:54321

# ローカルSupabase publishable key（supabase start時に表示される）
# LOCAL_SUPABASE_PUBLISHABLE_KEY=sb_publishable_xxxxxxxx

# ローカルSupabase secret key（supabase start時に表示される）
# LOCAL_SUPABASE_SECRET_KEY=sb_secret_xxxxxxxx

# ------------------------------------------------------------------------------
# 環境設定
# ------------------------------------------------------------------------------
# NODE_ENV: 実行環境を指定
#   - development: ローカル開発（ローカルSupabaseを使用）
#   - production: 本番環境（Supabase Cloudを使用）

NODE_ENV=development
